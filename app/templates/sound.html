<!-- By Pavlo Bazilinskyy <pavlo.bazilinskyy@gmail.com> -->
<!-- extend base layout -->
{% extends "base.html" %}
{% block content %}
{% include 'flash.html' %}

<h1>Sound {{ sound.name }}</h1>

<!-- Description form -->
<div class="well">

	<h4>ID <span class="label label-default">{{ sound.id }}</span> Name <span class="label label-default">{{ sound.name }}</span> Type <span class="label label-default">{{ sound.sound_type }}</span> Family <span class="label label-default">{{ sound.sound_family }}</span> Legal rights <span class="label label-default">{{ sound.rights }}</span></h4>

	<strong>Description</strong> {{ sound.description }}

	<script src="/static/js/wavesurfer.min.js"></script>
	<div id="waveform"></div>

	<script>
		var wavesurfer = WaveSurfer.create({
		    container: '#waveform',
		    waveColor: '#A8DBA8',
	        progressColor: '#3B8686',
	        backend: 'MediaElement'
		});
		// wavesurfer.load("sound_uploads/song_cjrg_teasdale_64kb.mp3v");
		wavesurfer.load("/{{ sound_location }}{{ sound.filename }}");
		// wavesurfer.load('http://ia902606.us.archive.org/35/items/shortpoetry_047_librivox/song_cjrg_teasdale_64kb.mp3');
		var slider = document.querySelector('#slider');
		slider.oninput = function () {
		  var zoomLevel = Number(slider.value);
		  wavesurfer.zoom(zoomLevel);
		};
	</script>

	<div style="text-align: center">
	  	<button class="btn btn-block btn-primary" data-action="play" onclick="wavesurfer.playPause()">
		    <i class="glyphicon glyphicon-play"></i>
		    Play
		    /
		    <i class="glyphicon glyphicon-pause"></i>
		    Pause
		</button>

	 <!--  <p class="row">
	    <div class="col-xs-1">
	      <i class="glyphicon glyphicon-zoom-in"></i>
	    </div>

	    <div class="col-xs-10">
	      <input id="slider" type="range" min="1" max="200" value="1" style="width: 100%" />
	    </div>

	    <div class="col-xs-1">
	      <i class="glyphicon glyphicon-zoom-out"></i>
	    </div>
	  </p> -->
	</div>
</div>
{% endblock %}